# 存储类型转换

OSS支持标准存储、低频访问、归档存储、冷归档存储四种存储类型，您可以根据需要随时转换文件（Object）的存储类型。

**说明：** 冷归档存储类型已在华北2（北京）地域邀测，请期待功能正式发布。

OSS支持通过以下方式转换Object的存储类型：

-   方式一：通过生命周期规则自动转换Object的存储类型
-   方式二：通过控制台、OSS工具、SDK手动转换Object的存储类型

## 通过生命周期规则自动转换Object的存储类型

OSS生命周期管理（Lifecycle）提供Object Transition机制，支持以下存储类型的自动转换：

![](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/5247559951/p1620.png)

-   标准存储-本地冗余（LRS）类型可转换为低频访问（LRS）、归档存储和冷归档存储类型。
-   低频访问（LRS）类型可转换为归档存储和冷归档存储类型。
-   标准存储-同城冗余（ZRS）类型可转换为低频访问（ZRS）类型。
-   归档存储类型转换为冷归档存储类型。

例如Bucket的冗余类型为本地冗余，对Bucket内指定前缀的Object，可配置Lifecycle策略如下：

![生命周期](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6247559951/p132749.png)

-   Object存储30天后，自动转换为低频访问类型。
-   Object存储180天后，自动转换为归档存储类型。
-   Object存储360天后，自动转换为冷归档存储类型。
-   Object存储超过720天后，Object会被自动删除。

您可以通过以下方式配置生命周期规则。

|操作方式|说明|
|----|--|
|[控制台](/cn.zh-CN/控制台用户指南/存储空间管理/基础设置/设置生命周期规则.md)|Web应用程序，直观易用。|
|[命令行工具](/cn.zh-CN/常用工具/命令行工具ossutil/常用命令/lifecycle.md)|命令行工具，性能好。|
|[Java SDK](/cn.zh-CN/SDK 示例/Java/存储空间/生命周期.md)|丰富、完整的各类语言SDK demo。|
|[Python SDK](/cn.zh-CN/SDK 示例/Python/存储空间/生命周期.md)|
|[PHP SDK](/cn.zh-CN/SDK 示例/PHP/存储空间/生命周期.md)|
|[Go SDK](/cn.zh-CN/SDK 示例/Go/存储空间/生命周期.md)|
|[C SDK](/cn.zh-CN/SDK 示例/C/存储空间/生命周期.md)|
|[.NET SDK](/cn.zh-CN/SDK 示例/.NET/存储空间/生命周期.md)|
|[Node.js SDK](/cn.zh-CN/SDK 示例/Node.js/存储空间/生命周期.md)|
|[Ruby SDK](/cn.zh-CN/SDK 示例/Ruby/存储空间/生命周期.md)|

**说明：** 如果一个Bucket同时配置了Object保留指定周期后转换为低频访问、Object保留指定周期后转换为归档存储、Object保留指定周期后转换为冷归档存储和Object保留指定周期后删除的策略，几条策略设置的转换周期必须满足以下规则：

转换为低频访问的周期<转换为归档的周期<转换为冷归档的周期<指定周期后删除

## 手动转换Object的存储类型

手动转换Object存储类型实际是通过覆写操作，将Object转储为指定的存储类型。所以，若转换的Object是低频访问、归档存储或冷归档存储类型，且存储未满指定周期的，会产生存储不足规定时长容量费用，详情请参见[存储费用](/cn.zh-CN/计量计费/计量项和计费项/存储费用.md)。

手动转换Object存储类型的操作方式如下：

|操作方式|说明|
|----|--|
|[控制台](/cn.zh-CN/控制台用户指南/文件管理/修改文件存储类型.md)|Web应用程序，直观易用。|
|[命令行工具ossutil](/cn.zh-CN/常用工具/命令行工具ossutil/常用命令/set-meta.md)|命令行工具，性能好。|
|[Java SDK](/cn.zh-CN/SDK 示例/Java/管理文件/转换文件存储类型.md)|丰富、完整的各类语言SDK demo。|
|[Python SDK](/cn.zh-CN/SDK 示例/Python/管理文件/转换文件存储类型.md)|
|[Go SDK](/cn.zh-CN/SDK 示例/Go/管理文件/转换文件存储类型.md)|
|[C++ SDK](/cn.zh-CN/SDK 示例/C++/管理文件/转换文件存储类型.md)|

**说明：** 对于归档存储和冷归档存储类型的Object，需要先执行Restore操作将Object解冻后，才可以修改存储类型。详情请参见[解冻文件](/cn.zh-CN/开发指南/对象/文件（Object）/管理文件/解冻文件.md)。

## 注意事项

Object存储类型转换后，会按照转换后的存储类型的存储单价计算存储费用。低频访问类型、归档存储类型、冷归档存储类型需要特别注意：

-   最小计量空间

    对于小于64 KB的Object，会按照64 KB计算空间大小。

-   最短存储周期

    低频访问类型的Object需要至少保存30天；归档存储类型的Object需至少保存60天；冷归档存储类型的Object需至少保存180天。提前删除这些Object，会收取存储不足规定时长容量费用。

    -   通过生命周期自动转换Object存储类型

        通过生命周期将Object转换为低频访问、归档存储和冷归档存储类型，Object的存储时间保留。例如a.txt作为标准存储类型已经在OSS中存储了10天，通过生命周期转换为低频访问类型，继续存储20天即满足最少存储30天的要求。详情请参见[常见问题](/cn.zh-CN/开发指南/对象/文件（Object）/文件生命周期/生命周期规则介绍.md)。

    -   手动转换Object存储类型

        手动转换Object存储类型时，Object的存储时间重新计算。例如a.txt作为标准存储类型已经在OSS中存储了10天，手动将Object转换为低频访问类型，则需继续存储30天才满足最少存储30天的要求。

-   归档存储和冷归档存储类型的解冻时间

    归档存储和冷归档存储类型Object恢复为可读取状态需要一定的解冻时间，所以如果业务场景上需要实时读取，建议只转换成低频访问存储类型，而不应转换成归档存储和冷归档存储类型，避免转换成后，数据无法实时读取。

-   数据取回费用

    访问低频访问类型的Object时，会根据实际访问量额外收取数据取回费用；解冻归档存储和冷归档存储类型的Object会额外收取数据解冻费用，此费用与流出流量费用是两个独立计费项。如果Object的平均访问频率高于每月1次，不建议转换成低频访问、归档存储或冷归档存储类型。

-   临时存储费用（邀测期间暂不收取）

    冷归档存储类型Object在数据解冻时会生成一份标准存储类型的Object副本用于访问。该Object在解冻时间结束前会以标准存储的存储费率计算临时存储费用。


