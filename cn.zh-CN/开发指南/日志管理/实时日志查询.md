# 实时日志查询 {#concept_eyb_1n5_1gb .concept}

用户在访问 OSS 的过程中，会产生大量的访问日志。实时日志查询功能将 OSS 与[日志服务](../../../../../cn.zh-CN/产品简介/什么是日志服务.md#)（SLS）相结合， 允许您在 OSS 控制台直接查询 OSS 访问日志，帮助您完成 OSS 访问的操作审计、访问统计、异常事件回溯和问题定位等工作，提升您的工作效率并更好地帮助您基于数据进行决策。

## 实时日志查询与访问日志存储对比 {#section_fgg_gq2_cgb .section}

-   实时日志查询：
    -   3分钟内将日志实时推送到日志服务实例中，您可在 OSS 控制台直接查看实时日志。
    -   提供日志分析服务，定制了常用的分析报表，数据查询更方便。
    -   可实时查询和分析原始日志并可按 Bucket、Object 名称、API 操作、时间等条件过滤日志。
-   访问日志存储：
    -   开启日志存储功能后，OSS 自动将访问这个 Bucket 的请求日志以小时为单位，按照固定的命名规则，生成一个 Object 写入您指定的 Bucket（目标Bucket，Target Bucket）。
    -   使用阿里云 DataLakeAnalytics 或搭建 Spark 集群等方式进行分析。
    -   可配置目标 Bucket 的生命周期管理规则，将这些日志文件转成归档存储，长期归档保存。

## 配置方法 {#section_nwv_k2v_1gb .section}

控制台：[开启实时日志查询](../../../../../cn.zh-CN/控制台用户指南/日志管理/实时日志查询.md#)

## 实时日志查询方式 {#section_agq_z1v_1gb .section}

OSS 实时日志查询功能，提供了以下三种查询方式：

-   原始日志实时查询

    用户对原始日志，指定时间段和查询语句进行实时查询，轻松实现如下功能：

    -   可快速分析某一个字段（如某个 API 操作）在一段时间内的分布情况。
    -   按字段过滤出需要分析的记录：例如，按 Bucket、Object 名称、API 名称等过滤出近一天的文件删除操作，并可查询删除操作的时间和访问IP。
    -   统计 OSS 访问记录：例如，统计一段时间内，某个 Bucket 的 PV、UV 或最高延时等。
-   日志报表查询

    提供了4个开箱即用的报表：

    -   **访问中心**：展示总体运营状况的信息，包括PV、UV、流量以及外网访问地图分布等。
    -   **审计中心**：展示文件操作的统计信息，包括文件读、写、删等操作统计。
    -   **运维中心**：展示针对访问日志的统计信息，包括请求数量、失败操作的分布统计。
    -   **性能中心**：展示针对性能的统计信息，包括外网下载/上传性能分布、不同网络与文件大小的传输性能、文件下载差异列表等信息。
-   通过日志服务控制台查询

    您可以在[日志服务控制台](https://sls.console.aliyun.com/)查看 OSS 的访问日志，详情请参考[OSS 访问日志](../../../../../cn.zh-CN/用户指南/云产品采集/OSS访问日志/OSS访问日志.md#)。


## 实时日志查询收费详情 {#section_tjh_5cv_1gb .section}

OSS 实时日志查询，免费提供最近7天的日志查询。若您设置的日志存储时间大于7天，则超过7天的部分，由日志服务单独收费。当您在外网读写日志服务时也会产生的额外费用。

具体收费标准，请参考[日志服务计费方式](../../../../../cn.zh-CN/产品定价/按量付费.md#)。

